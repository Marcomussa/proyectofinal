<!DOCTYPE html>
<html lang="en">
    <%- include('./partials/head.ejs', {'title': 'Detalle del producto'}) %> 
<body>
 
    <%- include('./partials/header.ejs') %> 

    <section class="producto">
    
      <article class="caruselNombre">
            
        <!--product name-->
          <h2 class="nombreDeProducto"><%= JSON.stringify(productDetail.name).replace(/\"/g, "") %></h2>
          
        <!--product image-->
          <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel"> 
            <img src="/img/products/<%= productDetail.image %>" onerror="if (this.src != '/img/no-image.jpg') this.src = '/img/no-image.jpg';" class="d-block w-100">
          </div>

      </article>

        <article class="datosProducto">
            <h4 class="precioProducto">$<%= JSON.stringify(productDetail.price).replace(/\"/g, "") %></h4> 


            <% if(productDetail.discount == 0) { %> 

              <p class='precioDescuentoProductoList'></p>
                                          
          <% } else{ %> 
            <p class='precioDescuentoProductoList'><%= JSON.stringify(productDetail.discount).replace(/\"/g, "" ) %>% OFF</p>
          <% } %> 


            <button class="añadirProducto" onclick="
            Swal.fire({
              position: 'center',
              icon: 'success',
              title: 'Producto añadido al carrito',
              showConfirmButton: false,
              timer: 1500
            })"><i class="far fa-cart-plus"></i> Añadir al carrito</button> 

              <br>

            <button class="añadirProducto2" onclick="
            Swal.fire({
              position: 'center',
              icon: 'success',
              title: 'Producto comprado',
              showConfirmButton: false,
              timer: 1500
            })"> 
            Comprar</button> <br>
            <a href="/payment" target="_blank" class="pagoProducto">Metodos de pago</a>
            <br>
            <a href="#" class="pagoProducto" data-toggle="modal" data-target="#exampleModalLong">Devoluciones</a>
              <!-- Modal -->
<div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Devoluciones</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <strong>¿CÓMO PUEDO DEVOLVER MI PEDIDO?</strong>
          <br>
          <br>
          Nota: No aceptamos devoluciones de productos sin la factura fisica/digital de la compra.
          <br>
          <br>
        <strong>ANTES DE CONTACTARNOS TEN LISTA LA SIGUIENTE INFORMACIÓN: </strong>
          <br>
          <br>
          1. Verificá que el producto esté nuevo, sin daños provocados, con su caja y/o envoltorio original, y con sus etiquetas sin haber sido desprendidas.
          <br>
          2. Tené listo el Número de Pedido / Orden que encuentras en tu correo de confirmación.
          <br>
          3. Consultá la disponibilidad del producto en nuestra página web.
          <br>
          <br>
          Si deseas cambiar la talla: Verificá la disponibilidad de talle en nuestra página web, tené listo el código de producto y el talle que deseas. Si compraste el producto en descuento, podés cambiarlo sin problema. 
          Si deseas reemplazar por otro producto: El producto que querés cambiar debe ajustarse al monto del valor pagado. 
          <br>
          <br>
          Ver más información <strong><a href="/return" target="_blank">aquí</a></strong>.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>
         <article class="ofertaProducto">
             <p class="oferta1"><i class="fas fa-shipping-fast"></i> Envios a todo el país</p>
             <p class="oferta2"><i class="fas fa-percent"></i> Cuotas sin interés</p>
         </article>
        </article>
    </section>
    <div class="descripcionDiv">
      <div class="descName">
        <h3>Características</h3>
      </div>
  
    <div class="hr"></div>
  
    <div class="descText">
        <p><%= JSON.stringify(productDetail.description) %> </p>
    </div>
    </div>
    <h2 class="busquedas">en base a busquedas similares</h2>

    <section class="products"> 
      <!--Testeando forma de los products--> 

      <a href="#" class='tarjetaProducto'>
        <div>
            <img class='imagenProducto' src="/img/products/<%= productDetail.image %>" alt= "" >
        </div>
        <div class='infoProducto'>
            <div class='nombreProducto'>
              <%= productDetail.name%>
                <div class='precioProductoList'>
                    <p class='precioTotalProductoList'>$<%= productDetail.price%></p>
                    <p class='precioDescuentoProductoList'><%= productDetail.discoun%>% OFF</p>
                </div>
            </div>  
        </div>
      </a>
  
      <a href="#" class='tarjetaProducto'>
        <div>
            <img class='imagenProducto' src="/img/products/<%= productDetail.image %>" alt= "" >
        </div>
        <div class='infoProducto'>
            <div class='nombreProducto'>
              <%= productDetail.name%>
                <div class='precioProductoList'>
                    <p class='precioTotalProductoList'>$<%= productDetail.price%></p>
                    <p class='precioDescuentoProductoList'><%= productDetail.discoun%>% OFF</p>
                </div>
            </div>  
        </div>
      </a>

      <a href="#" class='tarjetaProducto'>
        <div>
            <img class='imagenProducto' src="/img/products/<%= productDetail.image %>" alt= "" >
        </div>
        <div class='infoProducto'>
            <div class='nombreProducto'>
              <%= productDetail.name%>
                <div class='precioProductoList'>
                    <p class='precioTotalProductoList'>$<%= productDetail.price%></p>
                    <p class='precioDescuentoProductoList'><%= productDetail.discoun%>% OFF</p>
                </div>
            </div>  
        </div>
      </a>

      <a href="#" class='tarjetaProducto'>
        <div>
            <img class='imagenProducto' src="/img/products/<%= productDetail.image %>" alt= "" >
        </div>
        <div class='infoProducto'>
            <div class='nombreProducto'>
              <%= productDetail.name%>
                <div class='precioProductoList'>
                    <p class='precioTotalProductoList'>$<%= productDetail.price%></p>
                    <p class='precioDescuentoProductoList'><%= productDetail.discoun%>% OFF</p>
                </div>
            </div>  
        </div>
      </a>

    </section>
 



    <!-- hacer modificaciones luego - cambiar array de un elemento a objeto -->
    <!--<section class="contenedorProductDetail">
      <div class="productDetail">
        <img src="/img/products/<%= productDetail.image %>" alt="">
        <p> ID: <%= JSON.stringify(productDetail.id) %> </p>
        <p> Name: <%= JSON.stringify(productDetail.name) %> </p>
        <p> Description: <%= JSON.stringify(productDetail.description) %> </p>
        <p> Price <%= JSON.stringify(productDetail.price) %> </p>
        <p> Category: <%= JSON.stringify(productDetail.category) %> </p>
      </div>
    </section> -->
  
    <%- include('./partials/footer.ejs') %> 

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
</body>
</html>